<!DOCTYPE html>
<html lang="en">
  <head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Neuroimagem</title>

    <!-- Bootstrap core CSS -->
    <link href="vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom fonts for this template -->
    <link href="vendor/font-awesome/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css">
    <link href='https://fonts.googleapis.com/css?family=Kaushan+Script' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Droid+Serif:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='https://fonts.googleapis.com/css?family=Roboto+Slab:400,100,300,700' rel='stylesheet' type='text/css'>

    <!-- Custom styles for this template -->
    <link href="css/agency.css" rel="stylesheet">

  </head>

  <body id="page-top">

    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top" id="mainNav">
      <div class="container">
        <a class="navbar-brand js-scroll-trigger" href="https://neuroimagem-pucrs.github.io/site/">Instituto do Cérebro</a>
        <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
          Menu
          <i class="fa fa-bars"></i>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
          <ul class="navbar-nav text-uppercase ml-auto">
            <li class="nav-item">
              <a class="nav-link js-scroll-trigger" href="https://neuroimagem-pucrs.github.io/site/pesquisador.html">Espaço do Pesquisador</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <!-- Header -->
    <header class="masthead2">
      <div class="container">
        <div class="intro-text">
            <div class="intro-heading text-uppercase">FreeSurfer</div> 
          <!-- <a class="btn btn-primary btn-xl text-uppercase js-scroll-trigger" href="#services">Tell Me More</a> -->
        </div>
      </div>
    </header>

    <!-- Backintime -->
    <section id="freesurfer" class="content-section text-center">
      <div class="container">
        <div class="row">
          <div class="col-lg-12 mx-auto">
            <p>Links úteis para FreeSurfer:</p>
            <p><a href="http://freesurfer.net/fswiki/LinuxInstall">FreeSurfer Linux Installation</a></p>
            <p><a href="http://freesurfer.net/fswiki/recon-all">ReconAll</a></p>
            <p><a href="http://freesurfer.net/fswiki/ReconAllDevTable">FreeSurfer Tutorial: Process Flow (recon-all)</a></p>
            <p><a href="http://freesurfer.net/fswiki/ReconAllBlockDiagram">ReconAll Block Diagram</a></p>
            <p> </p>
            <h3 style="color:#01A9DB">Rodar FreeSurfer</h3>
            <table border="1" align="center">
              <tr>
                <td bgcolor="lightgray">export SUBJECTS_DIR=/pastas_imagens
                  <p>cd $SUBJECTS_DIR</p>
                  <p>recon-all -subjid nome_pasta_vai_criar -i $SUBJECTS_DIR/pasta_imagem_processar/nome_imagem.nii -all </p>
                </td>
             </tr>
            </table>
            <p> </p>
            <h3 style="color:#01A9DB">Abrir imagens depois de processadas - Freeview</h3>
            <p><big>1. Carregando os volumes, superfícies e segmentação subcortical</big></p>
            <table border="1" align="center">
              <tr>
                <td bgcolor="lightgray">freeview -v \
                  <p>/localização_pasta_imagem_processada/mri/T1.mgz \</p>
                  <p>/localização_pasta_imagem_processada/mri/wm.mgz \</p>
                  <p>/localização_pasta_imagem_processada/mri/brainmask.mgz \</p>
                  <p>/localização_pasta_imagem_processada/mri/aseg.mgz:colormap=lut:opacity=0.2 \</p>
                  <p>-f /localização_pasta_imagem_processada/surf/lh.white:edgecolor=blue \</p>
                  <p>/localização_pasta_imagem_processada/surf/lh.pial:edgecolor=red \</p>
                  <p>/localização_pasta_imagem_processada/surf/rh.white:edgecolor=blue \</p>
                  <p>/localização_pasta_imagem_processada/surf/rh.pial:edgecolor=red</p>
                </td>
             </tr>
            </table>
            <p> </p>
            <p>Notas sobre a linha de comando:</p>
            <p> <b><i>-v</i></b> é utilizado para abrir volumes; </p>
            <p> <b><i>-brainmask.mgz</i></b> é a linha do crânio; </p>
            <p> <b><i>-wm.mgz</i></b> é a máscara da substância branca; </p>
            <p> <b><i>-aseg.mgz</i></b> é a segmentação subcortical carregada com a correspondente tabela de cores com uma baixa opacidade. </p>
            
            <p> <b><i>-f</i></b> é utilizado para carregar superfícies: </p>
            <p>Substância branca e pial são carregadas para cada hemisfério com a cor indicada por 'edgecolor'.</p>
            <p> </p>
            <p><big>2. Carregando imagens em 3D </big></p>
            <p>O exemplo abaixo é para o hemisfério esquerdo, porém também é possível ver somente o hemisfério direito ou os dois hemisférios ao mesmo tempo. </p>
            <table border="1" align="center">
              <tr>
                <td bgcolor="lightgray">freeview -f  /localização_pasta_imagem_processada/surf/lh.pial:annot=aparc.annot:name=pial_aparc:visible=0 \
                  <p>/localização_pasta_imagem_processada/surf/lh.inflated:overlay=lh.thickness:overlay_threshold=0.1,3::name=inflated_thickness:visible=0 \</p>
                  <p>/localização_pasta_imagem_processada/surf/lh.inflated:visible=0 \</p>
                  <p>/localização_pasta_imagem_processada/surf/lh.white:visible=0 \</p>
                  <p>/localização_pasta_imagem_processada/surf/lh.pial \</p>
                  <p>--viewport 3d</p>
                </td>
             </tr>
            </table>
            <p> </p>
            <p>Notas sobre a linha de comando:</p>
            <p> <b><i>lh.pial:annot=aparc.annot</i></b> carrega a parcela cortical Desikan-Killiany na superfície pial; </p>
            <p> <b><i>:name=pial_aparc:visible=0</i></b> mostra o nome que aparecerá no display e faz com que essa camada não apareça; </p>
            <p> <b><i>lh.inflated:overlay=lh.thickness:overlay_threshold=0.1,3</i></b> carrega uma sobreposição sobre a superfície inflada e seta o mínimo e o máximo do display. </p>
            
            <h3 style="color:#01A9DB">Reprocessamento</h3>
            <p>Página com todos os tutoriais: <a href="http://surfer.nmr.mgh.harvard.edu/fswiki/FsTutorial/TroubleshootingData">Link</a></p>
            <p><big>1. Correção da Substância Cinza</big></p>
            <p> <a href="http://surfer.nmr.mgh.harvard.edu/fswiki/FsTutorial/PialEdits_freeview">Tutorial</a> </p>
            <p> </p>
            <p><big>2. Correção de Defeitos Topológicos</big></p>
            <p>Às vezes, alguns voxels que são substância branca são excluídos, para corrigir esse defeito é necessário apenas editar o volume wm.mgz.</p>
            <p> <a href="http://surfer.nmr.mgh.harvard.edu/fswiki/FsTutorial/TopologicalDefect_freeview">Tutorial</a> </p>
            <p> </p>
            <p><big>3. Utilizando Pontos de Controle para Corrigir a Normalização de Intensidade</big></p>
            <p>Às vezes a normalização de intensidade irá falhar por não conseguir determinar apropriadamente a intensidade para a substância branca, o que resulta em uma segmentação de substância branca errônea. Os pontos de controle são manualmente selecionados na localização do volume em que se tem certeza que faz parte da substância branca. </p>
            <p> <a href="http://surfer.nmr.mgh.harvard.edu/fswiki/FsTutorial/ControlPoints_freeview">Tutorial</a></p>
            <p> </p>
            
            <h3 style="color:#01A9DB">Processamento Longitudinal</h3>
            
            
          </div>
        </div>
      </div>
      
      
    </section> 
                
        
    <!-- Clients -->
    <section class="py-5">
      <div class="container">
        <div class="row">
          <div class="col-md-3 col-sm-6">
            <a href="#">
              <img class="img-fluid d-block mx-auto" src="" alt="">
            </a>
          </div>
          <div class="col-md-3 col-sm-6">
            <a href="#">
              <img class="img-fluid d-block mx-auto" src="img/logos/logo_pucrs.png" alt="">
            </a>
          </div>
          <div class="col-md-3 col-sm-6">
            <a href="#">
              <img class="img-fluid d-block mx-auto" src="img/logos/inscer.png" alt="">
            </a>
          </div>
          <div class="col-md-3 col-sm-6">
            <a href="#">
              <img class="img-fluid d-block mx-auto" src="" alt="">
            </a>
          </div>
        </div>
      </div>
    </section>
    
    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <!-- Plugin JavaScript -->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Contact form JavaScript -->
    <script src="js/jqBootstrapValidation.js"></script>
    <script src="js/contact_me.js"></script>

    <!-- Custom scripts for this template -->
    <script src="js/agency.min.js"></script>

  </body>

</html>
